<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Лента Telegram</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f4f4f4;
      padding: 2rem;
    }
    .telegram-feed {
      max-width: 600px;
      margin: auto;
      background: #fff;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .post {
      border-bottom: 1px solid #eee;
      padding: 1rem 0;
    }
    .post:last-child {
      border-bottom: none;
    }
  </style>
</head>
<body>
  <div class="telegram-feed" id="feed">
    <p>Загрузка ленты...</p>
  </div>

  <script>
    const channel = 'integral_security'; // Замените на имя канала без @
    const apiKey = 'YOUR_TGSTAT_API_KEY'; // Замените на свой API ключ

    async function loadPosts() {
      const feed = document.getElementById('feed');
      try {
        const response = await fetch(https://api.tgstat.ru/channels/posts?token=${apiKey}&channel=${channel}&limit=5);
        const data = await response.json();

        if (!data  !data.result  !data.result.posts) {
          feed.innerHTML = '<p>Не удалось загрузить ленту.</p>';
          return;
        }

        feed.innerHTML = '';
        data.result.posts.forEach(post => {
          const div = document.createElement('div');
          div.className = 'post';
          div.innerHTML = <h4>${post.date}</h4><p>${post.text || '(Пусто)'}</p>;
          feed.appendChild(div);
        });
      } catch (e) {
        console.error(e);
        feed.innerHTML = '<p>Ошибка загрузки ленты.</p>';
      }
    }

    loadPosts();
  </script>
</body>
</html>
